

var FOS=window.FOS||{};FOS.region=FOS.region||{},FOS.region.plsqlDynamicContent=function(e,n){apex.debug.info("FOS - PL/SQL Dynamic Content",e,n),n instanceof Function&&n.call(r,e);var i,r=this;i=e.el$=$("#"+e.regionId),apex.region.create(e.regionId,{type:"fos-region-plsql-dynamic-content",refresh:function(){e.isVisible||!e.lazyRefresh?FOS.region.plsqlDynamicContent.refresh.call(r,e):e.needsRefresh=!0},option:function(n,i){var r=["loaded","needsRefresh","showSpinnerOverlay","spinnerPosition","visibilityCheckDelay"],t=arguments.length;if(1===t)return e[n];t>1&&(n&&i&&r.includes(n)?e[n]=i:n&&!r.includes(n)&&apex.debug.warn("you are trying to set an option that is not allowed: "+n))}}),e.lazyLoad&&(apex.widget.util.onVisibilityChange(i[0],(function(n){e.isVisible=n,!n||e.loaded&&!e.needsRefresh||(apex.region(e.regionId).refresh(),e.loaded=!0,e.needsRefresh=!1)})),apex.jQuery(window).on("apexreadyend",(function(){var n=i[0];setTimeout((function(){apex.widget.util.visibilityChange(n,!0)}),e.visibilityCheckDelay||1e3)})))},FOS.region.plsqlDynamicContent.refresh=function(e){var n,i,r,t;if(e.showSpinner&&(i=e.spinnerPosition,r=e.showSpinnerOverlay,t="body"==i,n=function(e){var n,o=apex.util.showSpinner(i,{fixed:t});return r&&(n=$('<div class="fos-region-overlay'+(t?"-fixed":"")+'"></div>').prependTo(i)),function(){n&&n.remove(),o.remove()}}),apex.event.trigger("apexbeforerefresh","#"+e.regionId,e))return apex.debug.warn('the refresh action has been cancelled by the "apexbeforerefresh" event!'),!1;apex.server.plugin(e.ajaxIdentifier,{pageItems:e.itemsToSubmit},{refreshObject:"#"+e.regionId,loadingIndicator:n,success:function(n){if(n.items)for(var i=0;i<n.items.length;i++)apex.item(n.items[i].id).setValue(n.items[i].value,null,e.suppressChangeEvent);$("#"+e.regionWrapperId).html(n.content),apex.event.trigger("apexafterrefresh","#"+e.regionId,e)},dataType:"json"})};
//# sourceMappingURL=script.js.map



